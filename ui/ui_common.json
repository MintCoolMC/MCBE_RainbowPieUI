// Rainbow Pie UI "ui_common.json"
// By Mintraspberry Cool (Twitter: @MintCoolMC; Email: mintraspberrypony@gmail.com)
// Respect my hard work :)
{
  "namespace": "common",

  "empty_progress_bar": {
    "texture": "textures/ui/White",
    "alpha": 0.5
  },

  "filled_progress_bar": {
    "texture": "textures/ui/White",
    "alpha": 0.6
  },

  "progress_bar": {
    "size": [ 182, 4 ]
  },

  "progress_bar_for_collections/empty_progress_bar": {
    "color": [  0.2, 0.2, 0.2 ],
    "controls": [
      {
        "empty_progress_bar@common.empty_progress_bar": {
          "layer": -2,
          "bindings": [
            {
              "binding_name": "#bar_color",
              "binding_name_override": "#color",
              "binding_type": "collection",
              "binding_collection_name": "$progress_bar_collection"
            }
          ]
        }
      }
    ]
  },

  "highlight_slot_panel/highlight/hover_text": {
    "bindings": [
      {
        "binding_name": "$hover_text_binding_name",
        "binding_name_override": "#hover_text_str",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      },
      {
        "binding_name": "#hover_items_id",
        "binding_name_override": "#hover_items_id",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      },
      // Item Debug Info
      {
        "binding_name": "#item_id_aux",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      },
      {
        "binding_name": "#charged_item",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      },
      {
        "binding_name": "#item_custom_color",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      },
      {
        "binding_name": "#item_pickup_time",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      },
      {
        "binding_name": "#banner_patterns",
        "binding_condition": "visible",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      },
      {
        "binding_name": "#banner_colors",
        "binding_condition": "visible",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      },
      {
        "binding_name": "#banner_type",
        "binding_condition": "visible",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      },
      {
        "binding_type": "view",
        "source_property_name": "(#item_id_aux / 65536)",
        "target_property_name": "#item_id"
      },
      {
        "binding_type": "view",
        "source_property_name": "(#hover_text_str + '\n§7item_id: ' + #item_id + '\n§7item_id_aux: ' + #item_id_aux + '\n§7charged_item: ' + #charged_item + '\n§7item_custom_color: ' + #item_custom_color)",
        "target_property_name": "#hover_text",
        "ignored": "(not $rainbowpie_ui_feature_item_debug_info and not $rainbowpie_ui_flag_itemdebuginfo_fullinfo)"
      },
      {
        "binding_type": "view",
        "source_property_name": "(#hover_text_str + '\n§7item_id: ' + #item_id)",
        "target_property_name": "#hover_text",
        "ignored": "(not $rainbowpie_ui_feature_item_debug_info or $rainbowpie_ui_flag_itemdebuginfo_fullinfo)"
      },
      {
        "binding_type": "view",
        "source_property_name": "(not (#item_id_aux = -1))",
        "target_property_name": "#visible",
        "ignored": "(not $rainbowpie_ui_feature_item_debug_info)"
      },
      {
        "binding_type": "view",
        "source_property_name": "#hover_text_str",
        "target_property_name": "#hover_text",
        "ignored": "$rainbowpie_ui_feature_item_debug_info"
      }
    ]
  },

  // 看起来没啥用
  // "highlight_slot_panel/highlight": {
  //   "modifications": [
  //     {
  //       "array_name": "bindings",
  //       "operation": "remove",
  //       "where": {
  //         "binding_name": "(not #using_touch)"
  //       }
  //     }
  //   ]
  // },

  "inventory_animation_start": {
    "anim_type": "offset",
    "easing": "out_cubic",
    "duration": 0.6,
    "from": [ 0, 50 ],
    "to": [ 0, 0 ],
    "play_event": "screen.entrance_push",
    "end_event": "screen.entrance_end"
  },

  "inventory_animation_end": {
    "anim_type": "offset",
    "easing": "out_cubic",
    "duration": 0,
    "from": [ 0, 0 ],
    "to": [ 0, 0 ],
    "play_event": "screen.exit_push",
    "end_event": "screen.exit_end"
  },

  "inventory_animation_end2": {
    "anim_type": "offset",
    "easing": "out_cubic",
    "duration": 0.6,
    "from": [ 0, 0 ],
    "to": [ 0, 50 ],
    "play_event": "screen.exit_push",
    "end_event": "screen.exit_end"
  },

  "inventory_animation_end2_pop": {
    "anim_type": "offset",
    "easing": "out_cubic",
    "duration": 0.6,
    "from": [ 0, 0 ],
    "to": [ 0, 50 ],
    "play_event": "screen.exit_pop",
    "end_event": "screen.exit_end"
  },

  "rainbowpie_inventory_exit_animation_push": {
    "ignored": "$package_62fee365eb41",
    "anim_type": "offset",
    "easing": "out_cubic",
    "duration": 0.6,
    "from": [ 0, 0 ],
    "to": [ "-25%", 0 ],
    "play_event": "screen.exit_push",
    "end_event": "screen.exit_end"
  },

  "rainbowpie_inventory_entrance_animation_pop": {
    "ignored": "$package_62fee365eb41",
    "anim_type": "offset",
    "easing": "out_cubic",
    "duration": 0.6,
    "from": [ "-25%", 0 ],
    "to": [ 0, 0 ],
    "play_event": "screen.entrance_pop",
    "end_event": "screen.entrance_end"
  },

  "static_tooltip_popup_with_image_and_text": {
    "texture": "textures/ui/White",
    "color": "$rainbowpie_ui_theme_title_background_color",
    "alpha": "$rainbowpie_ui_theme_title_background_alpha"
  },

  "static_tooltip_popup_with_image_and_text/tooltip_chevron": {
    "ignored": true
  },

  "square_image_border_white": {
    "texture": ""
  },

  "back_button": {
    "focus_enabled": false,
    "modifications": [
      {
        "array_name": "bindings",
        "operation": "remove",
        "where": {
          "binding_name": "(not #is_using_gamepad)"
        }
      }
    ]
  },

  "dialog_background_hollow_w@popup_dialog.popup_dialog_background": {
    "texture": "textures/ui/White"
  },

  "dialog_background_hollow_tpw@dialog_background_hollow_common": {
    "texture": "textures/ui/White",
    "alpha": 0.6
  },

  "dialog_background_hollow_tm@dialog_background_hollow_common": {
    "texture": ""
  },

  "dialog_background_hollow_ww@dialog_background_hollow_common": {
    "texture": "textures/ui/control_white",
    "alpha": 1
  },

  "flying_item_renderer": {
    "property_bag": {
      "#flying_item_renderer": "$touch"
    }
  },

  "base_screen_content": {
    "type": "panel",
    "controls": [
      { "background_all_multi_layer_0@rainbowpie.background_all_blur": { "layer": -1800 } },
      { "background_all_multi_layer_1@rainbowpie.background_all_blur": { "layer": -1801 } },
      { "background_all_multi_layer_2@rainbowpie.background_all_blur": { "layer": -1802 } },
      { "background_all_multi_layer_3@rainbowpie.background_all_blur": { "layer": -1803 } }
    ]
  },

  "container_scroll_bar_side_rails": {
    "size": [ 3, "default" ],
    "texture": "textures/ui/White",
    "color": "$rainbowpie_ui_theme_scrollbar_background_color",
    "alpha": "$rainbowpie_ui_theme_scrollbar_background_alpha"
  },

  "container_scroll_box_image": {
    "offset": [ -0.5, 0 ],
    "size": [ 3, "default" ],
    "texture": "textures/ui/White",
    "color": "$rainbowpie_ui_theme_scrollbar_color",
    "alpha": "$rainbowpie_ui_theme_scrollbar_alpha"
  },

  "container_scroll_background_image": {
    "texture": "textures/ui/Black",
    "alpha": 0.4
  },

  "common_panel": {
    "$dialog_background|default": "common.empty_panel"
  },

  "container_item/item_selected_image": {
    "layer": 10
  },

  "slot_selected": {
    "size": [ "100%", 2 ],
    "anchor_from": "bottom_middle",
    "anchor_to": "bottom_middle",
    "texture": "textures/ui/White",
    "color": "$rainbowpie_ui_theme_inventory_cell_highlight_pocket_color",
    "alpha": "$rainbowpie_ui_theme_inventory_cell_highlight_pocket_alpha",
    "modifications": [
      {
        "array_name": "controls",
        "operation": "insert_front",
        "value": [
          {
            "hover_text@common.hover_text": {
              "layer": 29,
              "$hover_text_binding_name|default": "#hover_text",
              "bindings": [
                {
                  "binding_name": "$hover_text_binding_name",
                  "binding_name_override": "#hover_text_str",
                  "binding_type": "collection",
                  "binding_collection_name": "$item_collection_name"
                },
                // Item Debug Info
                {
                  "binding_name": "#item_id_aux",
                  "binding_type": "collection",
                  "binding_collection_name": "$item_collection_name"
                },
                {
                  "binding_name": "#charged_item",
                  "binding_type": "collection",
                  "binding_collection_name": "$item_collection_name"
                },
                {
                  "binding_name": "#item_custom_color",
                  "binding_type": "collection",
                  "binding_collection_name": "$item_collection_name"
                },
                {
                  "binding_name": "#item_pickup_time",
                  "binding_type": "collection",
                  "binding_collection_name": "$item_collection_name"
                },
                {
                  "binding_name": "#banner_patterns",
                  "binding_condition": "visible",
                  "binding_type": "collection",
                  "binding_collection_name": "$item_collection_name"
                },
                {
                  "binding_name": "#banner_colors",
                  "binding_condition": "visible",
                  "binding_type": "collection",
                  "binding_collection_name": "$item_collection_name"
                },
                {
                  "binding_name": "#banner_type",
                  "binding_condition": "visible",
                  "binding_type": "collection",
                  "binding_collection_name": "$item_collection_name"
                },
                {
                  "binding_type": "view",
                  "source_property_name": "(#item_id_aux / 65536)",
                  "target_property_name": "#item_id"
                },
                {
                  "binding_type": "view",
                  "source_property_name": "(#hover_text_str + '\n§7item_id: ' + #item_id + '\n§7item_id_aux: ' + #item_id_aux + '\n§7charged_item: ' + #charged_item + '\n§7item_custom_color: ' + #item_custom_color)",
                  "target_property_name": "#hover_text",
                  "ignored": "(not $rainbowpie_ui_feature_item_debug_info and not $rainbowpie_ui_flag_itemdebuginfo_fullinfo)"
                },
                {
                  "binding_type": "view",
                  "source_property_name": "(#hover_text_str + '\n§7item_id: ' + #item_id)",
                  "target_property_name": "#hover_text",
                  "ignored": "(not $rainbowpie_ui_feature_item_debug_info or $rainbowpie_ui_flag_itemdebuginfo_fullinfo)"
                },
                {
                  "binding_type": "view",
                  "source_property_name": "(not (#item_id_aux = -1))",
                  "target_property_name": "#visible",
                  "ignored": "(not $rainbowpie_ui_feature_item_debug_info)"
                },
                {
                  "binding_type": "view",
                  "source_property_name": "#hover_text_str",
                  "target_property_name": "#hover_text",
                  "ignored": "$rainbowpie_ui_feature_item_debug_info"
                }
              ]
            }
          }
        ]
      }
    ]
  },

  "selected_item_details_factory": {
    "ignored": true
  },

  "screen_background": {
    "$screen_background_alpha|default": 0.2
  },

  "container_item": {},

  "highlight_slot_panel/white_border": {
    "ignored": true
  },

  "cell_image": {
    "texture": "textures/ui/White",
    "color": "$rainbowpie_ui_theme_inventory_cell_default_color",
    "alpha": "$rainbowpie_ui_theme_inventory_cell_default_alpha"
  },

  "highlight_slot": {
    "size": [ "100%", "100%" ],
    "texture": "textures/ui/White",
    "color": "$rainbowpie_ui_theme_inventory_cell_highlight_color",
    "alpha": "$rainbowpie_ui_theme_inventory_cell_highlight_alpha"
  },

  "close_button": {
    "$use_default_close_button|default": false,
    "modifications": [
      {
        "array_name": "controls",
        "operation": "replace",
        "control_name": "default",
        "value": [
          {
            "default": {
              "type": "image",
              "size": [ 15, 15 ],
              "texture": "textures/ui/White",
              "color": "$rainbowpie_ui_theme_closebutton_default_background_color",
              "alpha": "$rainbowpie_ui_theme_closebutton_default_background_alpha",
              "controls": [
                {
                  "icon@common.close_button_panel": {
                    "$close_button_texture": "textures/ui/close_button_default_w",
                    "$close_button_color": "$rainbowpie_ui_theme_closebutton_default_color",
                    "$button_alpha": "$default_button_alpha"
                  }
                }
              ]
            }
          }
        ]
      },
      {
        "array_name": "controls",
        "operation": "replace",
        "control_name": "hover",
        "value": [
          {
            "hover": {
              "type": "image",
              "size": [ 15, 15 ],
              "texture": "textures/ui/White",
              "color": "$rainbowpie_ui_theme_closebutton_hover_background_color",
              "alpha": "$rainbowpie_ui_theme_closebutton_hover_background_alpha",
              "controls": [
                {
                  "icon@common.close_button_panel": {
                    "$close_button_texture": "textures/ui/close_button_default_w",
                    "$close_button_color": "$rainbowpie_ui_theme_closebutton_hover_color",
                    "$button_alpha": "$default_button_alpha"
                  }
                }
              ]
            }
          }
        ]
      },
      {
        "array_name": "controls",
        "operation": "replace",
        "control_name": "pressed",
        "value": [
          {
            "pressed": {
              "type": "image",
              "size": [ 15, 15 ],
              "texture": "textures/ui/White",
              "color": "$rainbowpie_ui_theme_closebutton_pressed_background_color",
              "alpha": "$rainbowpie_ui_theme_closebutton_pressed_background_alpha",
              "controls": [
                {
                  "icon@common.close_button_panel": {
                    "$close_button_texture|default": "textures/ui/close_button_default_w",
                    "$close_button_color|default": "$rainbowpie_ui_theme_closebutton_pressed_color",
                    "$button_alpha": "$default_button_alpha"
                  }
                }
              ]
            }
          }
        ]
      }
    ]
  },

  "close_button_image": {
    "$close_button_color|default": [],
    "texture": "$close_button_texture",
    "color": "$close_button_color"
  },

  "dynamic_tooltip_popup_with_image_and_text/image_and_text_stack_panel/tooltip_text": {
    "font_type": "$global_font_type",
    "backup_font_type": "$global_font_type_backup"
  },

  "static_tooltip_popup_with_image_and_text/image_and_text_stack_panel/tooltip_text": {
    "font_type": "$global_font_type",
    "backup_font_type": "$global_font_type_backup"
  },

  "inventory_selected_stack_size_text": {
    "font_type": "$global_font_type",
    "backup_font_type": "$global_font_type_backup"
  },

  "item_lock_notification/notification_background_image/notification_text_label": {
    "font_type": "$global_font_type",
    "backup_font_type": "$global_font_type_backup"
  },

  "selected_item_details/item_panel_image/item_text_label": {
    "font_type": "$global_font_type",
    "backup_font_type": "$global_font_type_backup"
  },

  "stack_count_label": {
    "font_type": "$global_font_type",
    "backup_font_type": "$global_font_type_backup"
  },

  "minecraftTenLabel": {
    "$backup_font_type|default": "UIFont",
    "backup_font_type": "$backup_font_type",
    "modifications": [
      {
        "array_name": "variables",
        "operation": "insert_front",
        "value": [
          {
            "requires": "$win10_edition",
            "$backup_font_type": "$global_font_type"
          }
        ]
      }
    ]
  },

  "section_heading_label": {
    "font_type": "$global_font_type",
    "backup_font_type": "$global_font_type_backup"
  },

  "keyboard_helper/image_centerer/image/keyboard_character": {
    "font_type": "$global_font_type",
    "backup_font_type": "$global_font_type_backup"
  },

  "keyboard_helper_description": {
    "font_type": "$global_font_type",
    "backup_font_type": "$global_font_type_backup"
  },

  "gamepad_helper_icon_description": {
    "font_type": "$global_font_type",
    "backup_font_type": "$global_font_type_backup"
  },

  "single_line_label/label_panel": {
    "font_type": "$global_font_type",
    "backup_font_type": "$global_font_type_backup"
  },

  "new_button_label": {
    "font_type": "$global_font_type",
    "backup_font_type": "$global_font_type_backup"
  },

  "button_text": {
    "font_type": "$global_font_type",
    "backup_font_type": "$global_font_type_backup"
  },

  "back_title_button/panel2/label": {
    "font_type": "$global_font_type",
    "backup_font_type": "$global_font_type_backup"
  },

  "screen_header_title_panel/store_header_title": {
    "font_type": "$global_font_type",
    "backup_font_type": "$global_font_type_backup"
  },

  "slider_box/default": {
    "ignored": true
  },

  "slider_box/hover": {
    "ignored": true
  },

  "slider_box/locked": {
    "ignored": true
  },

  "slider_box/indent": {
    "ignored": true
  },

  "slider_border": {
    "texture": ""
  },

  "slider_background": {
    "texture": "textures/ui/White",
    "color": "$rainbowpie_ui_theme_slider_default_background_color",
    "alpha": "$rainbowpie_ui_theme_slider_default_background_alpha"
  },

  "slider_background_hover": {
    "texture": "textures/ui/White",
    "color": "$rainbowpie_ui_theme_slider_hover_background_color",
    "alpha": "$rainbowpie_ui_theme_slider_hover_background_alpha"
  },

  "slider_background_locked@common.slider_background": {
    "color": "$rainbowpie_ui_theme_slider_locked_background_color",
    "alpha": "$rainbowpie_ui_theme_slider_locked_background_alpha"
  },

  "slider_progress": {
    "texture": "textures/ui/White",
    "color": "$rainbowpie_ui_theme_slider_default_progress_color",
    "alpha": "$rainbowpie_ui_theme_slider_default_progress_alpha"
  },

  "slider_progress_hover": {
    "texture": "textures/ui/White",
    "color": "$rainbowpie_ui_theme_slider_hover_progress_color",
    "alpha": "$rainbowpie_ui_theme_slider_hover_progress_alpha"
  },

  "slider_progress_locked@common.slider_progress": {
    "color": "$rainbowpie_ui_theme_slider_locked_progress_color",
    "alpha": "$rainbowpie_ui_theme_slider_locked_progress_alpha"
  },

  "slider_bar_default": {
    "size": [ "100% + 2px", 15 ]
  },

  "slider_bar_default/transparent_grey": {
    "ignored": true
  },

  "slider": {
    "modifications": [
      {
        "array_name": "controls",
        "operation": "insert_front",
        "value": [
          {
            "slider_bar_locked@common.slider_bar_default": {
              "$background_control": "common.slider_background_locked",
              "$progress_control": "common.slider_progress_locked",
              "$background_control_name": "slider_background_locked",
              "$progress_control_name": "slider_progress_locked",
              "layer": 10,
              "bindings": [
                {
                  "binding_type": "$slider_enabled_binding_type",
                  "binding_condition": "$slider_enabled_binding_condition",
                  "binding_collection_name": "$slider_collection_name",
                  "binding_name": "(not $slider_enabled_binding_name)",
                  "binding_name_override": "#visible"
                }
              ]
            }
          }
        ]
      }
    ]
  },

  "scroll_indent_image": {
    "texture": "textures/ui/White",
    "color": "$rainbowpie_ui_theme_scrollbar_background_color",
    "alpha": "$rainbowpie_ui_theme_scrollbar_background_alpha"
  },

  "scrollbar_box_image": {
    "size": [ 3, "100%" ],
    "texture": "textures/ui/White",
    "color": "$rainbowpie_ui_theme_scrollbar_color",
    "alpha": "$rainbowpie_ui_theme_scrollbar_alpha"
  },

  "scroll_box/box/mouse_box": {
    "ignored": false
  },

  "scroll_box/box/touch_box": {
    "ignored": true
  },

  "scrolling_panel/scroll_touch": {
    "ignored": true
  },

  "scrolling_panel/scroll_mouse": {
    "ignored": false
  },

  "text_edit_box_label": {
    "font_type": "$global_font_type",
    "backup_font_type": "$global_font_type_backup",
    "color": "$rainbowpie_ui_theme_input_text_color"
  },

  "text_edit_box_place_holder_label": {
    "font_type": "$global_font_type",
    "backup_font_type": "$global_font_type_backup",
    "color": "$rainbowpie_ui_theme_input_placeholder_color"
  },

  "default_indent": {
    "texture": "textures/ui/White",
    "color": "$rainbowpie_ui_theme_input_default_background_color"
  },

  "edit_box_indent": {
    "texture": "textures/ui/White",
    "size": "$edit_box_indent_size",
    "$edit_box_indent_size|default": [ "100% - 2px", "100% - 2px" ],
    "color": "$rainbowpie_ui_theme_input_default_background_color",
    "alpha": "$rainbowpie_ui_theme_input_default_background_alpha",
    "modifications": [
      {
        "array_name": "controls",
        "operation": "insert_front",
        "value": [
          {
            "bottom_image": {
              "type": "image",
              "anchor_from": "bottom_middle",
              "anchor_to": "bottom_middle",
              "offset": [ 0, 0 ],
              "texture": "textures/ui/White",
              "size": [ "100%", 2 ],
              "layer": 3,
              "color": "$rainbowpie_ui_theme_input_default_btbar_color",
              "alpha": "$rainbowpie_ui_theme_input_default_btbar_alpha"
            }
          }
        ]
      }
    ]
  },

  "edit_box_indent_hover": {
    "texture": "textures/ui/White",
    "color": "$rainbowpie_ui_theme_input_hover_background_color",
    "alpha": "$rainbowpie_ui_theme_input_hover_background_alpha",
    "modifications": [
      {
        "array_name": "controls",
        "operation": "insert_front",
        "value": [
          {
            "bottom_image": {
              "type": "image",
              "anchor_from": "bottom_middle",
              "anchor_to": "bottom_middle",
              "offset": [ 0, 0 ],
              "texture": "textures/ui/White",
              "size": [ "100%", 2 ],
              "layer": 3,
              "color": "$rainbowpie_ui_theme_input_hover_btbar_color",
              "alpha": "$rainbowpie_ui_theme_input_hover_btbar_alpha"
            }
          }
        ]
      }
    ]
  },

  "screen_exit_animation_push_offset": {
    "ignored": true
  },

  "screen_exit_animation_pop_offset": {
    "ignored": true
  },

  "screen_entrance_animation_push_offset": {
    "ignored": true
  },

  "screen_entrance_animation_pop_offset": {
    "ignored": true
  },

  "container_screen_exit_animation_push": {
    "ignored": true
  },

  "container_screen_exit_animation_pop": {
    "ignored": true
  },

  "container_screen_entrance_animation_push": {
    "ignored": true
  },

  "container_screen_entrance_animation_pop": {
    "ignored": true
  },

  "screen_background_inv@common.empty_panel": {
    // Placeholder
  },

  "safe_zone_stack/top_outer_control": {
    "ignored": true
  },

  "safe_zone_stack/top_inner_control": {
    "ignored": true
  },

  "safe_zone_stack/header_bar": {
    "ignored": true
  },

  "safezone_inner_matrix/outer_top/top_side_control": {
    "ignored": true
  },

  "safezone_inner_matrix/inner_top/top_side_control": {
    "ignored": true
  },

  "safezone_outer_matrix": {
    "$ignored_safezone|default": false
  },

  "safezone_buffer": {
    "ignored": "($is_ignored_safezone or $ignored_safezone)"
  },

  "base_screen": {
    "$screen_content|default": "common.base_screen_content",
    "modifications": [
      {
        "array_name": "controls",
        "operation": "insert_back",
        "value": [
          {
            "screen_extra_panel": {
              "type": "panel",
              "$rainbowpie_ui_screenbackground_bsf_need|default": true,
              "$rainbowpie_ui_screenbackground_longer_anim|default": false,
              "ignored": "((not $use_loading_bars) or ($screen_content = 'hud.hud_content'))",
              "controls": [
                {
                  "loading_screen@common.safezone_outer_matrix": {
                    "alpha": 0.0,
                    "propagate_alpha": true,
                    "animation_reset_name": "screen_animation_reset",
                    "disable_anim_fast_forward": true,
                    "anims": [
                      "@common.loading_bar_init_animation_push",
                      "@common.loading_bar_init_animation_pop"
                    ],
                    "$screen_content": "rainbowpie.base_screen_loading_screen"
                  }
                },
                {
                  "background_backup@common.safezone_outer_matrix": {
                    "ignored": "(not $rainbowpie_ui_flag_74013784 or not $rainbowpie_ui_screenbackground_bsf_need)",
                    "alpha": 0.0,
                    "layer": -5000,
                    "propagate_alpha": true,
                    "animation_reset_name": "screen_animation_reset",
                    "disable_anim_fast_forward": false,
                    "anims": [
                      "@rainbowpie.background_exit_animation_push_fade",
                      "@rainbowpie.background_exit_animation_pop_fade",
                      "@rainbowpie.background_entrance_animation_push_fade_long",
                      "@rainbowpie.background_entrance_animation_push_fade",
                      "@rainbowpie.background_entrance_animation_pop_fade"
                    ],
                    "$screen_content": "rainbowpie.background_all"
                  }
                }
              ]
            }
          }
        ]
      }
    ]
  },

  "base_screen/loading_bars_background": {
    "ignored": true
  },

  // 此处变量并非全局变量，且factory和popup_dialog不会读取
  "base_screen/variables_button_mappings_and_controls": {
    "modifications": [
      {
        "array_name": "variables",
        "operation": "insert_back",
        "value": [
          {
            "requires": "$rainbowpie_ui_flag_netease_flag_force_disable",
            "$is_netease": false
          },
          {
            "requires": "$rainbowpie_ui_flag_publish_flag_force_disable",
            "$is_publish": false
          },
          {
            "requires": "($rainbowpie_ui_debug_ui_device_override = 'windows')",
            // Windows variables
            "$microsoft_os": true,
            "$build_platform_UWP": true,
            "$win10_edition": true,
            "$is_windows_10_mobile": false,
            "$is_win10_arm": false,
            // Android variables
            "$google_os": false,
            "$is_android": false,
            // Apple variables
            "$apple_os": false,
            "$ios": false,
            "$is_ios": false,
            "$osx_edition": false,
            "$apple_tv": false,
            // Console variables
            "$is_console": false,
            "$xbox_one": false,
            "$is_ps4": false,
            // Other idk variables
            "$nx_os": false,
            "$is_settopbox": false,
            "$fire_tv": false,
            "$is_mobile_vr": false,
            "$gear_vr": false,
            "$is_holographic": false
          },
          {
            "requires": "($rainbowpie_ui_debug_ui_device_override = 'windows_arm')",
            // Windows variables
            "$microsoft_os": true,
            "$build_platform_UWP": true,
            "$win10_edition": true,
            "$is_windows_10_mobile": false,
            "$is_win10_arm": true,
            // Android variables
            "$google_os": false,
            "$is_android": false,
            // Apple variables
            "$apple_os": false,
            "$ios": false,
            "$is_ios": false,
            "$osx_edition": false,
            "$apple_tv": false,
            // Console variables
            "$is_console": false,
            "$xbox_one": false,
            "$is_ps4": false,
            // Other idk variables
            "$nx_os": false,
            "$is_settopbox": false,
            "$fire_tv": false,
            "$is_mobile_vr": false,
            "$gear_vr": false,
            "$is_holographic": false
          },
          {
            "requires": "($rainbowpie_ui_debug_ui_device_override = 'windows_mobile')",
            // Windows variables
            "$microsoft_os": true,
            "$build_platform_UWP": true,
            "$win10_edition": true,
            "$is_windows_10_mobile": true,
            "$is_win10_arm": false,
            // Android variables
            "$google_os": false,
            "$is_android": false,
            // Apple variables
            "$apple_os": false,
            "$ios": false,
            "$is_ios": false,
            "$osx_edition": false,
            "$apple_tv": false,
            // Console variables
            "$is_console": false,
            "$xbox_one": false,
            "$is_ps4": false,
            // Other idk variables
            "$nx_os": false,
            "$is_settopbox": false,
            "$fire_tv": false,
            "$is_mobile_vr": false,
            "$gear_vr": false,
            "$is_holographic": false
          },
          {
            "requires": "($rainbowpie_ui_debug_ui_device_override = 'android')",
            // Windows variables
            "$microsoft_os": false,
            "$build_platform_UWP": false,
            "$win10_edition": false,
            "$is_windows_10_mobile": false,
            "$is_win10_arm": false,
            // Android variables
            "$google_os": true,
            "$is_android": true,
            // Apple variables
            "$apple_os": false,
            "$ios": false,
            "$is_ios": false,
            "$osx_edition": false,
            "$apple_tv": false,
            // Console variables
            "$is_console": false,
            "$xbox_one": false,
            "$is_ps4": false,
            // Other idk variables
            "$nx_os": false,
            "$is_settopbox": false,
            "$fire_tv": false,
            "$is_mobile_vr": false,
            "$gear_vr": false,
            "$is_holographic": false
          },
          {
            "requires": "($rainbowpie_ui_debug_ui_device_override = 'apple_ios')",
            // Windows variables
            "$microsoft_os": false,
            "$build_platform_UWP": false,
            "$win10_edition": false,
            "$is_windows_10_mobile": false,
            "$is_win10_arm": false,
            // Android variables
            "$google_os": false,
            "$is_android": false,
            // Apple variables
            "$apple_os": true,
            "$ios": true,
            "$is_ios": true,
            "$osx_edition": false,
            "$apple_tv": false,
            // Console variables
            "$is_console": false,
            "$xbox_one": false,
            "$is_ps4": false,
            // Other idk variables
            "$nx_os": false,
            "$is_settopbox": false,
            "$fire_tv": false,
            "$is_mobile_vr": false,
            "$gear_vr": false,
            "$is_holographic": false
          },
          {
            "requires": "($rainbowpie_ui_debug_ui_device_override = 'apple_osx')",
            // Windows variables
            "$microsoft_os": false,
            "$build_platform_UWP": false,
            "$win10_edition": false,
            "$is_windows_10_mobile": false,
            "$is_win10_arm": false,
            // Android variables
            "$google_os": false,
            "$is_android": false,
            // Apple variables
            "$apple_os": true,
            "$ios": false,
            "$is_ios": false,
            "$osx_edition": true,
            "$apple_tv": false,
            // Console variables
            "$is_console": false,
            "$xbox_one": false,
            "$is_ps4": false,
            // Other idk variables
            "$nx_os": false,
            "$is_settopbox": false,
            "$fire_tv": false,
            "$is_mobile_vr": false,
            "$gear_vr": false,
            "$is_holographic": false
          },
          {
            "requires": "($rainbowpie_ui_debug_ui_device_override = 'apple_tv')",
            // Windows variables
            "$microsoft_os": false,
            "$build_platform_UWP": false,
            "$win10_edition": false,
            "$is_windows_10_mobile": false,
            "$is_win10_arm": false,
            // Android variables
            "$google_os": false,
            "$is_android": false,
            // Apple variables
            "$apple_os": true,
            "$ios": false,
            "$is_ios": false,
            "$osx_edition": false,
            "$apple_tv": true,
            // Console variables
            "$is_console": false,
            "$xbox_one": false,
            "$is_ps4": false,
            // Other idk variables
            "$nx_os": false,
            "$is_settopbox": false,
            "$fire_tv": false,
            "$is_mobile_vr": false,
            "$gear_vr": false,
            "$is_holographic": false
          },
          {
            "requires": "($rainbowpie_ui_debug_ui_device_override = 'console')",
            // Windows variables
            "$microsoft_os": false,
            "$build_platform_UWP": false,
            "$win10_edition": false,
            "$is_windows_10_mobile": false,
            "$is_win10_arm": false,
            // Android variables
            "$google_os": false,
            "$is_android": false,
            // Apple variables
            "$apple_os": false,
            "$ios": false,
            "$is_ios": false,
            "$osx_edition": false,
            "$apple_tv": false,
            // Console variables
            "$is_console": true,
            "$xbox_one": false,
            "$is_ps4": false,
            // Other idk variables
            "$nx_os": false,
            "$is_settopbox": false,
            "$fire_tv": false,
            "$is_mobile_vr": false,
            "$gear_vr": false,
            "$is_holographic": false
          },
          {
            "requires": "($rainbowpie_ui_debug_ui_device_override = 'console_xboxone')",
            // Windows variables
            "$microsoft_os": true,
            "$build_platform_UWP": false,
            "$win10_edition": true,
            "$is_windows_10_mobile": false,
            "$is_win10_arm": false,
            // Android variables
            "$google_os": false,
            "$is_android": false,
            // Apple variables
            "$apple_os": false,
            "$ios": false,
            "$is_ios": false,
            "$osx_edition": false,
            "$apple_tv": false,
            // Console variables
            "$is_console": true,
            "$xbox_one": true,
            "$is_ps4": false,
            // Other idk variables
            "$nx_os": false,
            "$is_settopbox": false,
            "$fire_tv": false,
            "$is_mobile_vr": false,
            "$gear_vr": false,
            "$is_holographic": false
          },
          {
            "requires": "($rainbowpie_ui_debug_ui_device_override = 'console_ps4')",
            // Windows variables
            "$microsoft_os": false,
            "$build_platform_UWP": false,
            "$win10_edition": false,
            "$is_windows_10_mobile": false,
            "$is_win10_arm": false,
            // Android variables
            "$google_os": false,
            "$is_android": false,
            // Apple variables
            "$apple_os": false,
            "$ios": false,
            "$is_ios": false,
            "$osx_edition": false,
            "$apple_tv": false,
            // Console variables
            "$is_console": true,
            "$xbox_one": false,
            "$is_ps4": true,
            // Other idk variables
            "$nx_os": false,
            "$is_settopbox": false,
            "$fire_tv": false,
            "$is_mobile_vr": false,
            "$gear_vr": false,
            "$is_holographic": false
          },
          {
            "requires": "($rainbowpie_ui_debug_ui_input_override = 'touch')",
            "$touch": true,
            "$mouse": false,
            "$game_pad": false
          },
          {
            "requires": "($rainbowpie_ui_debug_ui_input_override = 'mouse')",
            "$touch": false,
            "$mouse": true,
            "$game_pad": false
          },
          {
            "requires": "($rainbowpie_ui_debug_ui_input_override = 'game_pad')",
            "$touch": false,
            "$mouse": false,
            "$game_pad": true
          },
          {
            "requires": "$rainbowpie_ui_debug__store_disabled__override",
            "$store_disabled": true
          },
          {
            "requires": "$rainbowpie_ui_debug__trial__override",
            "$trial": true
          },
          {
            "requires": "$rainbowpie_ui_debug__education_edition__override",
            "$education_edition": true
          },
          {
            "requires": "$rainbowpie_ui_debug__world_archive_support__override",
            "$world_archive_support": true
          },
          {
            "requires": "$rainbowpie_ui_debug__file_picking_supported__override",
            "$file_picking_supported": true
          },
          {
            "requires": "$rainbowpie_ui_debug__pre_release__override",
            "$pre_release": true
          },
          {
            "requires": "$rainbowpie_ui_debug__is_low_memory_device__override",
            "$is_low_memory_device": true
          },
          // 对部分不同的场景优化
          {
            "requires": "$is_low_memory_device",
            "$rainbowpie_ui_feature_background_mask": false,
            "$rainbowpie_ui_feature_background_blur": false,
            "$rainbowpie_ui_feature_lowgpu_mode": true
          },
          {
            "requires": "$game_pad",
            "$rainbowpie_ui_flag_1e27eb75": false,
            "$rainbowpie_ui_flag_3cb89ec6": false,
            "$rainbowpie_ui_feature_maximize_chat_input": false
          }
        ]
      },
      {
        "array_name": "controls",
        "operation": "insert_front",
        "value": [
          {
            "back_shortcut@common_buttons.light_text_button": {
              "ignored": "(($screen_content = 'toast_screen.toast_screen_content') or ($screen_content = 'debug_screen.content_panel') or ($screen_content = 'hud.hud_content') or (not $touch))",
              "visible": "$rainbowpie_ui_flag_screen_backshortcut",
              "layer": 1200,
              "size": [ 80, 26 ],
              "offset": [ 0, "-16%" ],
              "anchor_from": "bottom_right",
              "anchor_to": "bottom_right",
              "$pressed_button_name": "button.menu_exit",
              "$button_text": "gui.back"
            }
          },
          {
            "debug_panel": {
              "type": "image",
              "$screen_background_control|default": "",
              "$header_bar_control|default": "",
              "$header_safezone_control|default": "",
              "$screen_content|default": "null",
              "ignored": "(($screen_content = 'toast_screen.toast_screen_content') or ($screen_content = 'debug_screen.content_panel') or ($screen_content = 'hud.hud_content') or (not $rainbowpie_ui_debug_screen_content))",
              "texture": "textures/ui/Black",
              "size": [ "100%c + 2px", "100%c + 2px" ],
              "anchor_to": "top_left",
              "anchor_from": "top_left",
              "alpha": 0.5,
              "layer": 200,
              "controls": [
                {
                  "screen_label": {
                    "type": "label",
                    "text": "('screen_content: §b' + $screen_content)",
                    "font_type": "$global_font_type",
                    "backup_font_type": "$global_font_type_backup",
                    "offset": [ 0, 0 ],
                    "anchor_to": "center",
                    "anchor_from": "center",
                    "layer": 2
                  }
                }
              ]
            }
          },
          {
            "exit_push@common_buttons.light_text_button": {
              "ignored": "(($screen_content = 'toast_screen.toast_screen_content') or ($screen_content = 'debug_screen.content_panel'))",
              "visible": "$rainbowpie_ui_debug_screen_animation",
              "layer": 1200,
              "size": [ 100, 16 ],
              "offset": [ 0, 12 ],
              "anchor_from": "top_left",
              "anchor_to": "top_left",
              "$pressed_button_name": "screen.exit_push",
              "$button_text": "screen.exit_push"
            }
          },
          {
            "exit_pop@common_buttons.light_text_button": {
              "ignored": "(($screen_content = 'toast_screen.toast_screen_content') or ($screen_content = 'debug_screen.content_panel'))",
              "visible": "$rainbowpie_ui_debug_screen_animation",
              "layer": 1200,
              "size": [ 100, 16 ],
              "offset": [ 0, 27 ],
              "anchor_from": "top_left",
              "anchor_to": "top_left",
              "$pressed_button_name": "screen.exit_pop",
              "$button_text": "screen.exit_pop"
            }
          },
          {
            "entrance_push@common_buttons.light_text_button": {
              "ignored": "(($screen_content = 'toast_screen.toast_screen_content') or ($screen_content = 'debug_screen.content_panel'))",
              "visible": "$rainbowpie_ui_debug_screen_animation",
              "layer": 1200,
              "size": [ 100, 16 ],
              "offset": [ 0, 42 ],
              "anchor_from": "top_left",
              "anchor_to": "top_left",
              "$pressed_button_name": "screen.entrance_push",
              "$button_text": "screen.entrance_push"
            }
          },
          {
            "entrance_pop@common_buttons.light_text_button": {
              "ignored": "(($screen_content = 'toast_screen.toast_screen_content') or ($screen_content = 'debug_screen.content_panel'))",
              "visible": "$rainbowpie_ui_debug_screen_animation",
              "layer": 1200,
              "size": [ 100, 16 ],
              "offset": [ 0, 57 ],
              "anchor_from": "top_left",
              "anchor_to": "top_left",
              "$pressed_button_name": "screen.entrance_pop",
              "$button_text": "screen.entrance_pop"
            }
          },
          {
            "screen_animation_reset@common_buttons.light_text_button": {
              "ignored": "(($screen_content = 'toast_screen.toast_screen_content') or ($screen_content = 'debug_screen.content_panel'))",
              "visible": "$rainbowpie_ui_debug_screen_animation",
              "layer": 1200,
              "size": [ 100, 16 ],
              "offset": [ 0, 72 ],
              "anchor_from": "top_left",
              "anchor_to": "top_left",
              "$pressed_button_name": "screen_animation_reset",
              "$button_text": "screen_animation_reset"
            }
          }
        ]
      }
    ]
  },

  "inventory_screen_common": {
    "$inventory_screen": true,
    "force_render_below": "$desktop_screen",
    "modifications": [
      {
        "array_name": "$screen_animations|default",
        "operation": "insert_front",
        "value": [
          "@rainbowpie.inventory_exit_animation_push",
          "@rainbowpie.inventory_entrance_animation_pop",
          "@rainbowpie.inventory_animation_start",
          "@rainbowpie.inventory_animation_end_pop"
        ]
      }
    ]
  }
}